<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Countdown Treasure Hunt</title>
  <style>
    body {
      background-color: #000;
      color: #fff;
      font-family: Arial, sans-serif;
      display: flex;
      flex-direction: column;
      align-items: center;
      justify-content: center;
      height: 100vh;
      margin: 0;
      position: relative;
    }
    #countdown {
      font-size: 3em;
      margin-bottom: 20px;
    }
    /* Secret countdown: initially nearly invisible */
    #secretCountdown {
      font-size: 1em;
      color: #010101; /* nearly the same as background */
      margin-top: 10px;
      user-select: text; /* so users can highlight to see it */
    }
    /* First clue in gray */
    #firstClue {
      color: gray;
      margin-bottom: 20px;
    }
    /* Chat Box Styles â€“ blending into the dark background */
    .chat-box {
      position: fixed;
      bottom: 20px;
      right: 20px;
      width: 300px;
      background: rgba(0, 0, 0, 0.8);
      border: 1px solid #222;
      border-radius: 5px;
      padding: 10px;
      box-shadow: 0 0 10px rgba(0, 0, 0, 0.5);
    }
    .chat-log {
      height: 150px;
      overflow-y: auto;
      margin-bottom: 10px;
      font-size: 0.9em;
      line-height: 1.3;
      color: gray;
    }
    #chatInput {
      width: 100%;
      padding: 5px;
      border: none;
      border-radius: 3px;
      background: #222;
      color: gray;
    }
    #chatInput::placeholder {
      color: #555;
    }
  </style>
</head>
<body>
  <!-- Big Countdown Timer (always visible) -->
  <div id="countdown"></div>
  
  <!-- Secret Countdown Timer (remains nearly invisible until clues solved) -->
  <div id="secretCountdown"></div>
  
  <!-- First clue displayed on the page in gray -->
  <p id="firstClue">Clue 1: What was the first can of fish we ate from the french fish store in paris?</p>
  
  <!-- Hidden Chat Box -->
  <div id="chatBox" class="chat-box">
    <div id="chatLog" class="chat-log"></div>
    <input type="text" id="chatInput" placeholder="Enter secret code...">
  </div>
  
  <script>
    // ---------------------------
    // Big Countdown Timer Code (always active)
    // ---------------------------
    // Set the original timer end date (using UTC: month is 0-indexed; 2 = March)
    let timerEndDate = new Date(Date.UTC(2025, 2, 9, 12, 30, 0));
    const countdownElement = document.getElementById("countdown");
    
    function updateBigCountdown() {
      const now = new Date().getTime();
      const distance = timerEndDate - now;
      
      if (distance < 0) {
        countdownElement.innerHTML = "I'm with you gorgeous, I LOOOOOOOOOLOVE YOUUUUUUUU";
        return;
      }
      
      const days = Math.floor(distance / (1000 * 60 * 60 * 24));
      const hours = Math.floor((distance % (1000 * 60 * 60 * 24)) / (1000 * 60 * 60));
      const minutes = Math.floor((distance % (1000 * 60 * 60)) / (1000 * 60));
      const seconds = Math.floor((distance % (1000 * 60)) / 1000);
      
      countdownElement.innerHTML = days + "d " + hours + "h " + minutes + "m " + seconds + "s ";
    }
    
    let bigCountdownInterval = setInterval(updateBigCountdown, 1000);
    updateBigCountdown();
    
    // ---------------------------
    // Secret Countdown Timer Code (starts only when all clues are solved)
    // ---------------------------
    let secretTimerEndDate = new Date(Date.UTC(2025, 1, 23, 13, 0, 0));
    const secretCountdownElement = document.getElementById("secretCountdown");
    let secretCountdownInterval = null;
    
    function updateSecretCountdown() {
      const now = new Date().getTime();
      const distance = secretTimerEndDate - now;
      
      if (distance < 0) {
        secretCountdownElement.innerHTML = "I'm with you gorgeous, I LOOOOOOOOOLOVE YOUUUUUUUU";
        clearInterval(secretCountdownInterval);
        return;
      }
      
      const days = Math.floor(distance / (1000 * 60 * 60 * 24));
      const hours = Math.floor((distance % (1000 * 60 * 60 * 24)) / (1000 * 60 * 60));
      const minutes = Math.floor((distance % (1000 * 60 * 60)) / (1000 * 60));
      const seconds = Math.floor((distance % (1000 * 60)) / 1000);
      
      secretCountdownElement.innerHTML = days + "d " + hours + "h " + minutes + "m " + seconds + "s ";
    }
    
    function startSecretCountdown() {
      // Change the secret countdown text color so it's visible upon highlighting (if needed)
      secretCountdownElement.style.color = "#010101";
      // Start updating the secret countdown every second
      secretCountdownInterval = setInterval(updateSecretCountdown, 1000);
      updateSecretCountdown();
    }
    
    // ---------------------------
    // Chat Box Logic for Clues
    // ---------------------------
    const chatInput = document.getElementById("chatInput");
    const chatLog = document.getElementById("chatLog");
    
    // Define secret words with their associated clues (all keys in lower-case)
    const clues = {
      "sardines a la tapenade": {
        resolved: false,
        message: "Clue 2: using a keyword cypher solve: oqcjepua cu odmomics ; the key is part of what i take in the morning"
      },
      "cramique au chocolat": {
        resolved: false,
        message: "Clue 3: 6F 68 20 6C 61 20 76 61 63 68 65"
      },
      "65 6c 6c 65 20 65 73 74 20 6f 75 20 6c 61 20 6d 65 75 68 20 6d 65 75 68": {
        resolved: false,
        message: "Clue 4: The best desert ever location : shift - hex - to 0/1 "
      },
      "00110110 00111000 00100000 00110110 00110001 00100000 00110111 00110100 00100000 00110111 00110110 00100000 00110111 01000001 00100000 00110111 00110111 00100000 00110110 01000110 00100000 00110110 01000011 00100000 00110111 00111001 00100000 00110110 01000011 00100000 00110111 01000001": {
        resolved: false,
        message: "Clue 5: [Insert your final clue message here]"
      }
    };

    const totalClues = Object.keys(clues).length;
    let resolvedCount = 0;
    
    // Append a message to the chat log
    function appendMessage(msg) {
      const p = document.createElement("p");
      p.textContent = msg;
      chatLog.appendChild(p);
      chatLog.scrollTop = chatLog.scrollHeight;
    }
    
    // Listen for user input in the chat box
    chatInput.addEventListener("keydown", function(e) {
      if (e.key === "Enter") {
        const userInput = chatInput.value.trim().toLowerCase();
        chatInput.value = "";
        appendMessage("You: " + userInput);
        
        // Check if the user input matches any secret word
        if (clues[userInput] && !clues[userInput].resolved) {
          clues[userInput].resolved = true;
          resolvedCount++;
          appendMessage("Secret: " + clues[userInput].message);
        } else {
          appendMessage("Secret: That doesn't seem to unlock anything.");
        }
        
        // When all clues have been resolved, start the secret countdown
        if (resolvedCount === totalClues && !secretCountdownInterval) {
          startSecretCountdown();
          appendMessage("All clues unlocked! Enjoy your secret prize countdown!");
        }
      }
    });
  </script>
</body>
</html>
